<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ì‚°ì±… ì¹œêµ¬ ì¶”ì²œ</title>
    <style>
        body { padding: 20px; font-family: sans-serif; background-color: #f9f9f9; }
        .card {
            background: white;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            border-left: 5px solid #4CAF50;
        }
        .score { float: right; font-weight: bold; color: #e91e63; font-size: 1.2em; }
        .info { color: #666; font-size: 0.9em; }
    </style>
</head>
<body>
    <h2>ğŸ“ ë‚´ ì£¼ë³€ ì‚°ì±… ì¹œêµ¬ ì¶”ì²œ (Top 3)</h2>
    <div id="list-area">ë¡œë”© ì¤‘...</div>

    <script>
        // í˜ì´ì§€ ì—´ë¦¬ìë§ˆì ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
        window.onload = async function() {
            // í…ŒìŠ¤íŠ¸ìš© í•˜ë“œì½”ë”© ë°ì´í„° (ë‚˜: ID 1ë²ˆ)
            const myId = 1; 
            const lat = 37.4979; 
            const lon = 127.0276;

            try {
                const response = await fetch(`/api/walkers/recommend?myId=${myId}&lat=${lat}&lon=${lon}`);
                const data = await response.json();

                const listArea = document.getElementById('list-area');
                listArea.innerHTML = '';

                data.forEach(walker => {
                    const html = `
                        <div class="card">
                            <span class="score">${walker.matchScore}ì </span>
                            <h3>ğŸ¶ ${walker.name} <small>(${walker.dogSize})</small></h3>
                            <div class="info">ê±°ë¦¬: ${walker.distanceMeters}m</div>
                        </div>
                    `;
                    listArea.innerHTML += html;
                });
            } catch (e) {
                alert("ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");
            }
        };
    </script>
</body>
</html>